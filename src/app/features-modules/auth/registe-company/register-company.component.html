
<div class="main-wrapper account-page">
    <div class="login-wrapper">
        <div class="content w-100">
            <!-- Login Content -->
            <div class="account-content">
                <div class="align-items-center justify-content-center">
                    <div class="login-right">
                        <div class="login-header text-center">
                            <a [routerLink] = "routes.home"><img src="assets/img/onterim.png" alt="logo" class="img-fluid"></a>
                            <h3>{{ 'register.hello' | translate }}</h3>
                        </div>
                        <nav class="user-tabs mb-4">
                          <ul role="tablist" class="nav nav-pills nav-justified">
                              <li class="nav-item">
                                  <a [routerLink]="routes.register" data-bs-toggle="tab" class="nav-link ">Candidate</a>
                              </li>
                              <li class="nav-item">
                                  <a [routerLink]="routes.registerCompany" data-bs-toggle="tab" class="nav-link active" >Company</a>
                              </li>
                          </ul>
                      </nav>
                        <div class="tab-content pt-0">
                            
                            <div role="tabpanel active" id="company" class="tab-pane fade active show">
                              <form [formGroup]="signupForm" (ngSubmit)="onSubmit()">
                               
                               
                              
                                <div formGroupName="company">
                                  <div class="company-title">
                                    <h4>company</h4>
                                   </div>
                                  <div class="row">
                                    <div class="col-md-12">
                                      <div class="input-block">
                                        <label for="company-name" class="form-label">Siret</label>
                                        <input 
                                            type="text" 
                                            class="form-control" 
                                            formControlName="siret" 
                                            (change)="getSiretDetails($event)"  
                                            placeholder="Enter Siret" 
                                          />
                                      </div>
                                    </div>
                                     <!-- Error message -->
                                    <div *ngIf="siretErrorMessage" class="text-danger mt-2">
                                      {{ siretErrorMessage }}
                                    </div>
                                
                                    <div class="col-md-12">
                                      <div class="input-block">
                                        <label for="company-name" class="form-label">Company Name</label>
                                        <input type="text" class="form-control" formControlName="name">
                                      </div>
                                    </div>
                                
                                    <div class="col-md-12">
                                      <div class="input-block">
                                        <label for="naf-title" class="form-label">INTITULÉS</label>
                                        <input type="text" class="form-control" formControlName="nafTitle">
                                      </div>
                                    </div>
                                
                                    <div class="col-md-12">
                                      <div class="input-block">
                                        <label for="naf-code" class="form-label">NAF</label>
                                        <input type="text" class="form-control" formControlName="naf">
                                      </div>
                                    </div>
                                
                                    <div class="col-md-12">
                                      <div class="input-block">
                                        <label for="tagline" class="form-label">category</label>
                                        <input type="text" class="form-control" formControlName="category">
                                      </div>
                                    </div>
                                
                                    
                                    
                                
                                    <div class="col-md-12">
                                      <div class="input-block">
                                        <label for="team-size" class="form-label">Team size</label>
                                        <input type="text" class="form-control" formControlName="workforce">
                                      </div>
                                    </div>
                                  </div>
                                  <div class="row" formGroupName="location">
                                 
                                    <div class="col-md-12">
                                      <h4>Location</h4>
                                    </div>
                                    
                                    <div class="col-md-6">
                                      <div class="input-block">
                                        <label for="post-code" class="form-label">ZIP / Post Code</label>
                                        <input type="text" class="form-control" formControlName="postalCode">
                                      </div>
                                    </div>
                                    
                                    <div class="col-md-6">
                                      <div class="input-block">
                                        <label for="city" class="form-label">City</label>
                                        <input type="text" class="form-control" formControlName="city">
                                      </div>
                                    </div>
                                
                                    <div class="col-md-6">
                                      <div class="input-block">
                                        <label for="state" class="form-label">Departement</label>
                                        <input type="text" class="form-control" formControlName="department">
                                      </div>
                                    </div>
                                
                                    <div class="col-md-6">
                                      <div class="input-block">
                                        <label for="region" class="form-label">Region</label>
                                        <input type="text" class="form-control" formControlName="region">
                                      </div>
                                    </div>
                                
                                    <div class="col-md-12">
                                      <div class="input-block">
                                        <label for="address" class="form-label">Address</label>
                                        <input type="text" class="form-control" formControlName="address">
                                      </div>
                                    </div>
                                
                                    <div class="col-md-12">
                                      <div class="input-block">
                                        <label for="address2" class="form-label">Address Complementaire</label>
                                        <input type="text" class="form-control" formControlName="addressLine2">
                                      </div>
                                    </div>
                                  </div>
                                 </div>

                                <hr>
                                <div formGroupName="user">
                                  <div class="company-title">
                                    <h4>Contact</h4>
                                   </div>
                                  <div class="row"  >
                                    <div class="input-block">
                                      <label for="firstName">{{ 'personalDetails.firstName' | translate }} <span class="label-star"> *</span></label>
                                      <input type="text" formControlName="firstName" class="form-control">
                                    </div>
                                    
                                    <div class="input-block">
                                      <label for="lastName">{{ 'personalDetails.lastName' | translate }} <span class="label-star"> *</span></label>
                                      <input type="text" formControlName="lastName" class="form-control">
                                    </div>
                                    
                                    <div class="input-block">
                                      <label for="email">{{ 'personalDetails.email' | translate }} <span class="label-star"> *</span></label>
                                      <input type="email" formControlName="email" class="form-control" required>
                                    </div>
                                    
                                    <div class="input-block">
                                        <label for="password">{{ 'personalDetails.password' | translate }} <span class="label-star"> *</span></label>
                                        <div class="position-relative">
                                          <input [type]="password[0] ? 'text' : 'password'" formControlName="password" class="form-control">
                                          <div class="password-icon" (click)="togglePassword(0)">
                                            <span class="fas" [ngClass]="password[0] ? 'fa-eye' : 'fa-eye-slash'"></span>
                                          </div>
                                        </div>
                                      </div>
                                    
                                      <div class="input-block">
                                        <label for="confirmPassword">{{ 'personalDetails.confirmPassword' | translate }}<span class="label-star"> *</span></label>
                                        <div class="position-relative">
                                          <input [type]="password[1] ? 'text' : 'password'" formControlName="confirmPassword" class="form-control">
                                          <div class="password-icon" (click)="togglePassword(1)">
                                            <span class="fas" [ngClass]="password[1] ? 'fa-eye' : 'fa-eye-slash'"></span>
                                          </div>
                                        </div>
                                        <div *ngIf="signupForm.errors && signupForm.get('user.confirmPassword')?.touched" class="text-danger">
                                          {{ 'register.confirmPassword' | translate }}  
                                        </div>
                                      </div>
    
                                       <!-- Password validation error messages -->
                                      <div >
                                        <!-- Min Length -->
                                        <div [ngClass]="{ 'text-success': passwordValidations.minLength, 'text-danger': !passwordValidations.minLength }">
                                          <small>Au moins 8 caractères</small>
                                        </div>
    
                                        <!-- Lowercase Letter -->
                                        <div [ngClass]="{ 'text-success': passwordValidations.hasLowercase, 'text-danger': !passwordValidations.hasLowercase }">
                                          <small>Une lettre minuscule</small>
                                        </div>
    
                                        <!-- Uppercase Letter -->
                                        <div [ngClass]="{ 'text-success': passwordValidations.hasUppercase, 'text-danger': !passwordValidations.hasUppercase }">
                                          <small>Une lettre majuscule</small>
                                        </div>
    
                                        <!-- Number -->
                                        <div [ngClass]="{ 'text-success': passwordValidations.hasNumber, 'text-danger': !passwordValidations.hasNumber }">
                                          <small>Un chiffre</small>
                                        </div>
    
                                        <!-- Special Character -->
                                        <div [ngClass]="{ 'text-success': passwordValidations.hasSpecialChar, 'text-danger': !passwordValidations.hasSpecialChar }">
                                          <small>Un caractère spécial (!&#64;#$%^&amp;*)</small> <!-- Escaped special characters -->
                                        </div>
                                      </div>
                                  </div>
                                </div>
                                <div class="dont-have">
                                  <label>
                                    <input type="checkbox" formControlName="terms">  {{ 'register.term' | translate }}   <a [routerLink]="routes.privacypolicy">Terms &amp; Conditions</a>
                                  </label>
                                </div>
                                
                                <button type="submit" class="btn btn-primary w-100" [disabled]="!signupForm.valid">{{ 'register.buttonText' | translate }}</button>
                              </form>
                          </div>
                        </div>		
                    </div>
                </div>
            </div>
            <!-- /Login Content -->
        </div>	
    </div>
</div>

